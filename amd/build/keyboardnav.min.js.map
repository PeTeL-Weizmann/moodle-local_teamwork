{"version":3,"file":"keyboardnav.min.js","sources":["../src/keyboardnav.js"],"sourcesContent":["/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\ndefine([], function () {\n    const FOCUSABLE = {};\n    const PREVFOCUSED = {};\n    return {\n           /**\n         * Find focusable elements inside parent.\n         * @param  {Object} parentElement - dom element, where finding will be execute.\n         * @param  {string} targetElements='' - comma separated specific elements to be included in the searchÑŽ\n         */\n           getFocusableElements: function (parentElement, targetElements = '') {\n            const parent = document.querySelector(parentElement);\n            if (targetElements.length === 0) {\n                FOCUSABLE.elements = Array.from(parent.querySelectorAll(`\n                    a[href], button, input:not(:disabled),\n                    textarea:not(:disabled), select:not(:disabled),\n                    [tabindex]:not([tabindex=\"-1\"])`\n                ));\n            } else {\n                FOCUSABLE.elements = Array.from(parent.querySelectorAll(targetElements));\n            }\n        },\n\n        /**\n         * @param  {string} value - value, to find inside array, taht should be focused.\n         */\n        setFocusOnElement: function (value) {\n            let el = document.querySelector(value);\n           if (FOCUSABLE.elements.includes(el)) {\n            const index = FOCUSABLE.elements.indexOf(el);\n                FOCUSABLE.index = index;\n                FOCUSABLE.elements[index].focus();\n           } else {\n            FOCUSABLE.index = 0;\n            FOCUSABLE.elements[0].focus();\n\n           }\n        },\n\n        setPrevfocusedElement: function (target) {\n            PREVFOCUSED.element = target;\n        },\n        setFocusOnPrevfocusedElement: function () {\n            if (document.querySelector(PREVFOCUSED.element)) {\n                document.querySelector(PREVFOCUSED.element).focus();\n            } else {\n                PREVFOCUSED.element = null;\n                this.setFocusOnElement();\n            }\n            console.log('setFocusOnPrevfocusedElement', document.querySelector(PREVFOCUSED.element));\n        },\n        setAccessabilityBehaviuor: function () {\n            FOCUSABLE.elements.forEach(element => {\n                element.onkeydown = (e) => {\n                    if (e.which === 9 && !e.shiftKey) {\n                        e.preventDefault();\n                         const index = FOCUSABLE.elements.indexOf(e.target) + 1;\n                        const newIndex = index >= FOCUSABLE.elements.length ? 0 : index;\n                        FOCUSABLE.elements[newIndex].focus();\n                    } else if (e.shiftKey && e.which === 9) {\n                        e.preventDefault();\n                        const index = FOCUSABLE.elements.indexOf(e.target) - 1;\n                        const newIndex = index < 0 ? FOCUSABLE.elements.length - 1 : index;\n                        FOCUSABLE.elements[newIndex].focus();\n                    }\n                };\n            });\n        },\n    };\n});\n"],"names":["define","FOCUSABLE","PREVFOCUSED","getFocusableElements","parentElement","targetElements","parent","document","querySelector","length","elements","Array","from","querySelectorAll","setFocusOnElement","value","el","includes","index","indexOf","focus","setPrevfocusedElement","target","element","setFocusOnPrevfocusedElement","console","log","setAccessabilityBehaviuor","forEach","onkeydown","e","which","shiftKey","preventDefault","newIndex"],"mappings":"AAEAA,oCAAO,IAAI,eACDC,UAAY,GACZC,YAAc,SACb,CAMAC,qBAAsB,SAAUC,mBAAeC,sEAAiB,GACzDC,OAASC,SAASC,cAAcJ,eACR,IAA1BC,eAAeI,OACfR,UAAUS,SAAWC,MAAMC,KAAKN,OAAOO,4MAMvCZ,UAAUS,SAAWC,MAAMC,KAAKN,OAAOO,iBAAiBR,kBAOhES,kBAAmB,SAAUC,WACrBC,GAAKT,SAASC,cAAcO,UAC7Bd,UAAUS,SAASO,SAASD,IAAK,KAC9BE,MAAQjB,UAAUS,SAASS,QAAQH,IACrCf,UAAUiB,MAAQA,MAClBjB,UAAUS,SAASQ,OAAOE,aAE9BnB,UAAUiB,MAAQ,EAClBjB,UAAUS,SAAS,GAAGU,SAK1BC,sBAAuB,SAAUC,QAC7BpB,YAAYqB,QAAUD,QAE1BE,6BAA8B,WACtBjB,SAASC,cAAcN,YAAYqB,SACnChB,SAASC,cAAcN,YAAYqB,SAASH,SAE5ClB,YAAYqB,QAAU,UACjBT,qBAETW,QAAQC,IAAI,+BAAgCnB,SAASC,cAAcN,YAAYqB,WAEnFI,0BAA2B,WACvB1B,UAAUS,SAASkB,SAAQ,SAAAL,SACvBA,QAAQM,UAAY,SAACC,MACD,IAAZA,EAAEC,OAAgBD,EAAEE,UAKjB,GAAIF,EAAEE,UAAwB,IAAZF,EAAEC,MAAa,CACpCD,EAAEG,qBACIf,OAAQjB,UAAUS,SAASS,QAAQW,EAAER,QAAU,EAC/CY,UAAWhB,OAAQ,EAAIjB,UAAUS,SAASD,OAAS,EAAIS,OAC7DjB,UAAUS,SAASwB,WAAUd,aATC,CAC9BU,EAAEG,qBACKf,MAAQjB,UAAUS,SAASS,QAAQW,EAAER,QAAU,EAChDY,SAAWhB,OAASjB,UAAUS,SAASD,OAAS,EAAIS,MAC1DjB,UAAUS,SAASwB,UAAUd,cAWpD"}