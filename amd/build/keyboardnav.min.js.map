{"version":3,"file":"keyboardnav.min.js","sources":["../src/keyboardnav.js"],"sourcesContent":["/* eslint-disable no-console */\r\n/* eslint-disable no-unused-vars */\r\ndefine([], function () {\r\n    const FOCUSABLE = {};\r\n    const PREVFOCUSED = {};\r\n    return {\r\n           /**\r\n         * Find focusable elements inside parent.\r\n         * @param  {Object} parentElement - dom element, where finding will be execute.\r\n         * @param  {string} targetElements='' - comma separated specific elements to be included in the searchÑŽ\r\n         */\r\n           getFocusableElements: function (parentElement, targetElements = '') {\r\n            const parent = document.querySelector(parentElement);\r\n            if (targetElements.length === 0) {\r\n                FOCUSABLE.elements = Array.from(parent.querySelectorAll(`\r\n                    a[href], button, input:not(:disabled),\r\n                    textarea:not(:disabled), select:not(:disabled),\r\n                    [tabindex]:not([tabindex=\"-1\"])`\r\n                ));\r\n            } else {\r\n                FOCUSABLE.elements = Array.from(parent.querySelectorAll(targetElements));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param  {string} value - value, to find inside array, taht should be focused.\r\n         */\r\n        setFocusOnElement: function (value) {\r\n            let el = document.querySelector(value);\r\n           if (FOCUSABLE.elements.includes(el)) {\r\n            const index = FOCUSABLE.elements.indexOf(el);\r\n                FOCUSABLE.index = index;\r\n                FOCUSABLE.elements[index].focus();\r\n           } else {\r\n            FOCUSABLE.index = 0;\r\n            FOCUSABLE.elements[0].focus();\r\n\r\n           }\r\n        },\r\n\r\n        setPrevfocusedElement: function (target) {\r\n            PREVFOCUSED.element = target;\r\n        },\r\n        setFocusOnPrevfocusedElement: function () {\r\n            if (document.querySelector(PREVFOCUSED.element)) {\r\n                document.querySelector(PREVFOCUSED.element).focus();\r\n            } else {\r\n                PREVFOCUSED.element = null;\r\n                this.setFocusOnElement();\r\n            }\r\n        },\r\n        setAccessabilityBehaviuor: function () {\r\n            FOCUSABLE.elements.forEach(element => {\r\n                element.onkeydown = (e) => {\r\n                    if (e.which === 9 && !e.shiftKey) {\r\n                        e.preventDefault();\r\n                         const index = FOCUSABLE.elements.indexOf(e.target) + 1;\r\n                        const newIndex = index >= FOCUSABLE.elements.length ? 0 : index;\r\n                        FOCUSABLE.elements[newIndex].focus();\r\n                    } else if (e.shiftKey && e.which === 9) {\r\n                        e.preventDefault();\r\n                        const index = FOCUSABLE.elements.indexOf(e.target) - 1;\r\n                        const newIndex = index < 0 ? FOCUSABLE.elements.length - 1 : index;\r\n                        FOCUSABLE.elements[newIndex].focus();\r\n                    }\r\n                };\r\n            });\r\n        },\r\n    };\r\n});\r\n"],"names":["define","FOCUSABLE","PREVFOCUSED","getFocusableElements","parentElement","targetElements","parent","document","querySelector","length","elements","Array","from","querySelectorAll","setFocusOnElement","value","el","includes","index","indexOf","focus","setPrevfocusedElement","target","element","setFocusOnPrevfocusedElement","setAccessabilityBehaviuor","forEach","onkeydown","e","which","shiftKey","preventDefault","newIndex"],"mappings":"AAEAA,oCAAO,IAAI,iBACDC,UAAY,GACZC,YAAc,SACb,CAMAC,qBAAsB,SAAUC,mBAAeC,sEAAiB,SACzDC,OAASC,SAASC,cAAcJ,eACR,IAA1BC,eAAeI,OACfR,UAAUS,SAAWC,MAAMC,KAAKN,OAAOO,4MAMvCZ,UAAUS,SAAWC,MAAMC,KAAKN,OAAOO,iBAAiBR,kBAOhES,kBAAmB,SAAUC,WACrBC,GAAKT,SAASC,cAAcO,UAC7Bd,UAAUS,SAASO,SAASD,IAAK,OAC9BE,MAAQjB,UAAUS,SAASS,QAAQH,IACrCf,UAAUiB,MAAQA,MAClBjB,UAAUS,SAASQ,OAAOE,aAE9BnB,UAAUiB,MAAQ,EAClBjB,UAAUS,SAAS,GAAGU,SAK1BC,sBAAuB,SAAUC,QAC7BpB,YAAYqB,QAAUD,QAE1BE,6BAA8B,WACtBjB,SAASC,cAAcN,YAAYqB,SACnChB,SAASC,cAAcN,YAAYqB,SAASH,SAE5ClB,YAAYqB,QAAU,UACjBT,sBAGbW,0BAA2B,WACvBxB,UAAUS,SAASgB,SAAQH,UACvBA,QAAQI,UAAaC,OACD,IAAZA,EAAEC,OAAgBD,EAAEE,UAKjB,GAAIF,EAAEE,UAAwB,IAAZF,EAAEC,MAAa,CACpCD,EAAEG,uBACIb,MAAQjB,UAAUS,SAASS,QAAQS,EAAEN,QAAU,EAC/CU,SAAWd,MAAQ,EAAIjB,UAAUS,SAASD,OAAS,EAAIS,MAC7DjB,UAAUS,SAASsB,UAAUZ,aATC,CAC9BQ,EAAEG,uBACKb,MAAQjB,UAAUS,SAASS,QAAQS,EAAEN,QAAU,EAChDU,SAAWd,OAASjB,UAAUS,SAASD,OAAS,EAAIS,MAC1DjB,UAAUS,SAASsB,UAAUZ"}